\PassOptionsToPackage{unicode=true}{hyperref} % options for packages loaded elsewhere
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provides euro and other symbols
\else % if luatex or xelatex
  \usepackage{unicode-math}
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage[]{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\usepackage{hyperref}
\hypersetup{
            pdftitle={test.R},
            pdfauthor={jim},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

% set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother


\title{test.R}
\author{jim}
\date{2020-06-07}

\begin{document}
\maketitle

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#radian}
\KeywordTok{library}\NormalTok{(tidyverse)}
\KeywordTok{library}\NormalTok{(ggplot2)}
\KeywordTok{library}\NormalTok{(ggthemes)}
\KeywordTok{library}\NormalTok{(gtable)}
\KeywordTok{source}\NormalTok{(}\StringTok{"../R/readData.R"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{thisyr=}\DecValTok{2019}
\NormalTok{setup\textless{}{-}}\KeywordTok{list}\NormalTok{(}
  \DataTypeTok{Run\_name     =} \KeywordTok{noquote}\NormalTok{(}\StringTok{"Std"}\NormalTok{),}
  \DataTypeTok{Tier         =} \DecValTok{3}\NormalTok{    ,}
  \DataTypeTok{nalts        =} \DecValTok{7}\NormalTok{    ,}
  \DataTypeTok{alts         =} \KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{6}\NormalTok{,}\DecValTok{7}\NormalTok{),}
  \DataTypeTok{tac\_abc      =} \DecValTok{1}\NormalTok{,    }\CommentTok{\# Flag to set TAC equal to ABC (1 means true, otherwise false)}
  \DataTypeTok{srr          =} \DecValTok{1}\NormalTok{ ,   }\CommentTok{\# Stock{-}recruitment type (1=Ricker, 2=Bholt)}
  \DataTypeTok{rec\_proj     =} \DecValTok{1}\NormalTok{,    }\CommentTok{\# projection rec form (default: 1 = use observed mean and std, option 2 = use estimated SRR and estimated sigma R)}
  \DataTypeTok{srr\_cond     =} \DecValTok{0}\NormalTok{ ,   }\CommentTok{\# SR{-}Conditioning (0 means no, 1 means use Fmsy == F35\%?, 2 means Fmsy == F35\% and Bmsy=B35\%  condition (affects SRR fits)}
  \DataTypeTok{srr\_prior    =} \FloatTok{0.0}\NormalTok{,  }\CommentTok{\# Condition that there is a prior that mean historical recruitment is similar to expected recruitment at half mean SSB and double mean SSB 0 means don\textquotesingle{}t use, otherwise specify CV}
  \DataTypeTok{write\_big    =} \DecValTok{1}\NormalTok{,    }\CommentTok{\# Flag to write big file (of all simulations rather than a summary, 0 means don\textquotesingle{}t do it, otherwise do it) Write\_Big}
  \DataTypeTok{nyrs\_proj    =} \DecValTok{14}\NormalTok{,   }\CommentTok{\#\_Number of projection years}
  \DataTypeTok{nsims        =} \DecValTok{1000}\NormalTok{, }\CommentTok{\#\_Number of simulations}
  \DataTypeTok{beg\_yr\_label =}\NormalTok{ thisyr  }\CommentTok{\#\_Begin Year}
\NormalTok{)}
\NormalTok{config\textless{}{-}}\KeywordTok{list}\NormalTok{(}
  \DataTypeTok{nFixCatchYrs =} \DecValTok{2}\NormalTok{,}
  \DataTypeTok{nSpecies     =} \DecValTok{1}\NormalTok{,}
  \DataTypeTok{OYMin        =} \FloatTok{.1343248}\NormalTok{,}
  \DataTypeTok{OYMax        =} \DecValTok{1943248}\NormalTok{,}
  \DataTypeTok{dataFiles    =} \KeywordTok{noquote}\NormalTok{(}\StringTok{"data/t1.dat"}\NormalTok{),}
  \DataTypeTok{ABCMult      =} \DecValTok{1}\NormalTok{,}
  \DataTypeTok{PoplnScalar  =} \DecValTok{1000}\NormalTok{,}
  \DataTypeTok{AltFabcSPR   =} \FloatTok{0.75}\NormalTok{,}
  \DataTypeTok{nTAC         =} \DecValTok{1}\NormalTok{,}
  \DataTypeTok{TACIndices   =} \DecValTok{1}\NormalTok{,}
  \DataTypeTok{Catch        =} \KeywordTok{c}\NormalTok{( }\DecValTok{2016}\NormalTok{,}\FloatTok{55000.}\NormalTok{,   }\DecValTok{2017}\NormalTok{,}\FloatTok{55000.}\NormalTok{ )}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{datfile \textless{}{-}}\StringTok{ }\KeywordTok{list}\NormalTok{(}
  \DataTypeTok{runname     =} \KeywordTok{noquote}\NormalTok{(}\StringTok{"M16.2"}\NormalTok{), }
  \DataTypeTok{ssl\_spp     =} \DecValTok{1}\NormalTok{,         }\CommentTok{\#SSL\_spp}
  \DataTypeTok{Dorn\_buffer =} \DecValTok{1}\NormalTok{,         }\CommentTok{\#Dorn\_buffer}
  \DataTypeTok{nfsh        =} \DecValTok{1}\NormalTok{,         }\CommentTok{\#N\_fsh}
  \DataTypeTok{nsex        =} \DecValTok{1}\NormalTok{,         }\CommentTok{\#N\_sexes}
  \DataTypeTok{avgF5yr     =} \FloatTok{0.0661399}\NormalTok{, }\CommentTok{\#avg\_5yr\_F}
  \DataTypeTok{F40\_mult    =} \DecValTok{1}\NormalTok{,         }\CommentTok{\#F\_40\_multiplier}
  \DataTypeTok{spr\_abc     =} \FloatTok{0.4}\NormalTok{,       }\CommentTok{\#SPR\_abc}
  \DataTypeTok{spr\_msy     =} \FloatTok{0.35}\NormalTok{,      }\CommentTok{\#SPR\_msy}
  \DataTypeTok{sp\_mo       =} \DecValTok{8}\NormalTok{,         }\CommentTok{\#spawn\_month}
  \DataTypeTok{nages       =} \DecValTok{11}\NormalTok{,        }\CommentTok{\#N\_ages}
  \DataTypeTok{Frat        =} \DecValTok{1}\NormalTok{,         }\CommentTok{\#F\_ratio}
    \CommentTok{\#M}
    \DataTypeTok{M    =} \KeywordTok{c}\NormalTok{(}\FloatTok{0.3}\NormalTok{,}\FloatTok{0.3}\NormalTok{,}\FloatTok{0.3}\NormalTok{,}\FloatTok{0.3}\NormalTok{,}\FloatTok{0.3}\NormalTok{,}\FloatTok{0.3}\NormalTok{,}\FloatTok{0.3}\NormalTok{,}\FloatTok{0.3}\NormalTok{,}\FloatTok{0.3}\NormalTok{,}\FloatTok{0.3}\NormalTok{,}\FloatTok{0.3}\NormalTok{), }
    \CommentTok{\# Maturity}
    \DataTypeTok{pmat =} \KeywordTok{c}\NormalTok{(}\FloatTok{0.005}\NormalTok{,}\FloatTok{0.037}\NormalTok{,}\FloatTok{0.224}\NormalTok{,}\FloatTok{0.688}\NormalTok{,}\FloatTok{0.944}\NormalTok{,}\FloatTok{0.992}\NormalTok{,}\FloatTok{0.999}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{),}
    \CommentTok{\# Wt\_at\_age\_spawners  }
    \DataTypeTok{wtage\_sp  =} \KeywordTok{c}\NormalTok{(}\FloatTok{44.8}\NormalTok{,}\FloatTok{161.377}\NormalTok{,}\FloatTok{398.272}\NormalTok{,}\FloatTok{557.695}\NormalTok{,}\FloatTok{652.113}\NormalTok{,}\FloatTok{719.573}\NormalTok{,}\FloatTok{863.744}\NormalTok{,}\FloatTok{948.744}\NormalTok{,}\FloatTok{921.397}\NormalTok{,}\FloatTok{885.912}\NormalTok{,}\FloatTok{1069.87}\NormalTok{),}
    \CommentTok{\# Wt\_at\_age\_fsh}
    \DataTypeTok{wtage\_fsh =} \KeywordTok{c}\NormalTok{(}\FloatTok{69.3778}\NormalTok{,}\FloatTok{253.522}\NormalTok{,}\FloatTok{408.211}\NormalTok{,}\FloatTok{614.731}\NormalTok{,}\FloatTok{668.483}\NormalTok{,}\FloatTok{718.137}\NormalTok{,}\FloatTok{803.017}\NormalTok{,}\FloatTok{798.707}\NormalTok{,}\FloatTok{788.117}\NormalTok{,}\FloatTok{842.468}\NormalTok{,}\FloatTok{960.006}\NormalTok{), }
    \CommentTok{\#select}
    \DataTypeTok{sel =} \KeywordTok{c}\NormalTok{(}\FloatTok{0.002576427}\NormalTok{,}\FloatTok{0.040030753}\NormalTok{,}\FloatTok{0.651104228}\NormalTok{,}\FloatTok{0.768404263}\NormalTok{,}\FloatTok{0.794886081}\NormalTok{,}\DecValTok{1}\NormalTok{,}\FloatTok{0.889293108}\NormalTok{,}\FloatTok{0.604815671}\NormalTok{,}\FloatTok{0.451169778}\NormalTok{,}\FloatTok{0.403195516}\NormalTok{,}\FloatTok{0.403195516}\NormalTok{),}
    \CommentTok{\#N}
    \DataTypeTok{N   =} \KeywordTok{c}\NormalTok{(}\FloatTok{511.179}\NormalTok{,}\FloatTok{378.528}\NormalTok{,}\FloatTok{278.443}\NormalTok{,}\FloatTok{194.385}\NormalTok{,}\FloatTok{183.423}\NormalTok{,}\FloatTok{45.5404}\NormalTok{,}\FloatTok{61.1188}\NormalTok{,}\FloatTok{19.8073}\NormalTok{,}\FloatTok{39.6285}\NormalTok{,}\FloatTok{33.6501}\NormalTok{,}\FloatTok{51.7806}\NormalTok{),}
    \CommentTok{\#Nyrs}
    \DataTypeTok{nyrs =} \DecValTok{37}\NormalTok{,}
    \CommentTok{\#recruits}
    \DataTypeTok{R    =} \KeywordTok{c}\NormalTok{(}\FloatTok{1578.51}\NormalTok{,}\FloatTok{479.509}\NormalTok{,}\FloatTok{357.919}\NormalTok{,}\FloatTok{443.588}\NormalTok{,}\FloatTok{318.981}\NormalTok{,}\FloatTok{413.125}\NormalTok{,}\FloatTok{514.351}\NormalTok{,}\FloatTok{600.987}\NormalTok{,}\FloatTok{536.301}\NormalTok{,}\FloatTok{692.34}\NormalTok{,}\FloatTok{452.279}\NormalTok{,}\FloatTok{1618.73}\NormalTok{,}\FloatTok{702.801}\NormalTok{,}\FloatTok{372.811}\NormalTok{,}\FloatTok{597.812}\NormalTok{,}\FloatTok{1136.19}\NormalTok{,}\FloatTok{402.862}\NormalTok{,}\FloatTok{424.179}\NormalTok{,}\FloatTok{1025.36}\NormalTok{,}\FloatTok{207.05}\NormalTok{,}\FloatTok{383.695}\NormalTok{,}\FloatTok{1054.64}\NormalTok{,}\FloatTok{2224.52}\NormalTok{,}\FloatTok{1379.34}\NormalTok{,}\FloatTok{1545.81}\NormalTok{,}\FloatTok{345.556}\NormalTok{,}\FloatTok{454.884}\NormalTok{,}\FloatTok{617.194}\NormalTok{,}\FloatTok{404.876}\NormalTok{,}\FloatTok{993.497}\NormalTok{,}\FloatTok{727.754}\NormalTok{,}\FloatTok{236.795}\NormalTok{,}\FloatTok{505.948}\NormalTok{,}\FloatTok{258.653}\NormalTok{,}\FloatTok{726.627}\NormalTok{,}\FloatTok{524.198}\NormalTok{,}\FloatTok{473.54}\NormalTok{),}
    \CommentTok{\#SSB }
    \DataTypeTok{SSB  =} \KeywordTok{c}\NormalTok{(}\FloatTok{206.391}\NormalTok{,}\FloatTok{194.569}\NormalTok{,}\FloatTok{187.097}\NormalTok{,}\FloatTok{183.296}\NormalTok{,}\FloatTok{195.289}\NormalTok{,}\FloatTok{240.774}\NormalTok{,}\FloatTok{252.143}\NormalTok{,}\FloatTok{238.163}\NormalTok{,}\FloatTok{223.199}\NormalTok{,}\FloatTok{200.776}\NormalTok{,}\FloatTok{182.378}\NormalTok{,}\FloatTok{179.671}\NormalTok{,}\FloatTok{189.193}\NormalTok{,}\FloatTok{198.242}\NormalTok{,}\FloatTok{212.123}\NormalTok{,}\FloatTok{233.484}\NormalTok{,}\FloatTok{277.891}\NormalTok{,}\FloatTok{282.004}\NormalTok{,}\FloatTok{250.709}\NormalTok{,}\FloatTok{231.816}\NormalTok{,}\FloatTok{218.403}\NormalTok{,}\FloatTok{195.275}\NormalTok{,}\FloatTok{181.628}\NormalTok{,}\FloatTok{189.976}\NormalTok{,}\FloatTok{175.912}\NormalTok{,}\FloatTok{168.624}\NormalTok{,}\FloatTok{220.206}\NormalTok{,}\FloatTok{315.124}\NormalTok{,}\FloatTok{376.621}\NormalTok{,}\FloatTok{397.171}\NormalTok{,}\FloatTok{365.476}\NormalTok{,}\FloatTok{317.159}\NormalTok{,}\FloatTok{277.777}\NormalTok{,}\FloatTok{242.719}\NormalTok{,}\FloatTok{233.415}\NormalTok{,}\FloatTok{223.636}\NormalTok{,}\FloatTok{198.117}\NormalTok{,}\FloatTok{183.537}\NormalTok{,}\FloatTok{177.91}\NormalTok{)}
\NormalTok{    )}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Setup.dat}
\KeywordTok{list2dat}\NormalTok{(setup,}\StringTok{"setup.dat"}\NormalTok{)}
\CommentTok{\# spp\_catch.dat}
\KeywordTok{list2dat}\NormalTok{(config,}\StringTok{"data/t1\_spcat.dat"}\NormalTok{)}
\NormalTok{runfn\textless{}{-}}\StringTok{"t1"}
\KeywordTok{file.copy}\NormalTok{(}\KeywordTok{paste0}\NormalTok{(}\StringTok{"data/"}\NormalTok{,runfn,}\StringTok{"\_spcat.dat"}\NormalTok{),}\StringTok{"spp\_catch.dat"}\NormalTok{,}\DataTypeTok{overwrite=}\OtherTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{list2dat}\NormalTok{(datfile,}\StringTok{"data/t1.dat"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{system}\NormalTok{(}\StringTok{"../src/main"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{  .projdir=}\StringTok{"t1/"}
  \KeywordTok{dir.create}\NormalTok{(.projdir)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in dir.create(.projdir): 't1' already exists
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
  \KeywordTok{file.copy}\NormalTok{(}\KeywordTok{list.files}\NormalTok{(}\KeywordTok{getwd}\NormalTok{(), }\DataTypeTok{pattern=}\StringTok{"out$"}\NormalTok{), .projdir,}\DataTypeTok{overwrite=}\OtherTok{TRUE}\NormalTok{)      }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
  \KeywordTok{file.remove}\NormalTok{(}\KeywordTok{list.files}\NormalTok{(}\KeywordTok{getwd}\NormalTok{(), }\DataTypeTok{pattern=}\StringTok{"out$"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{  bf \textless{}{-}}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(}\KeywordTok{read.table}\NormalTok{(}\KeywordTok{paste0}\NormalTok{(.projdir,}\StringTok{"bigfile.out"}\NormalTok{),}\DataTypeTok{header=}\OtherTok{TRUE}\NormalTok{,}\DataTypeTok{as.is=}\OtherTok{TRUE}\NormalTok{))}
  \KeywordTok{glimpse}\NormalTok{(bf)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Rows: 98,000
## Columns: 16
## $ Stock       [3m[38;5;246m<chr>[39m[23m "M16.2", "M16.2", "M16.2", "M16.2", "M16.2", "M16.2", "M16.2", "M16.2", "M16.2", "M16.2", "M16.2", "M16.2", "M16.2", ...
## $ Alt         [3m[38;5;246m<int>[39m[23m 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...
## $ Sim         [3m[38;5;246m<int>[39m[23m 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, ...
## $ Yr          [3m[38;5;246m<int>[39m[23m 2019, 2020, 2021, 2022, 2023, 2024, 2025, 2026, 2027, 2028, 2029, 2030, 2031, 2032, 2019, 2020, 2021, 2022, 2023, 202...
## $ SSB         [3m[38;5;246m<dbl>[39m[23m 172.6990, 156.3680, 139.0480, 130.8980, 132.2730, 128.3950, 123.0760, 133.4510, 151.6050, 151.1740, 160.8930, 169.513...
## $ Rec         [3m[38;5;246m<dbl>[39m[23m 0.778124, 0.620316, 0.426150, 0.633177, 1.305950, 0.456378, 0.958439, 1.291490, 0.281164, 0.443774, 0.751058, 1.57955...
## $ Tot_biom    [3m[38;5;246m<dbl>[39m[23m 671.538, 665.034, 645.112, 631.998, 611.731, 629.601, 687.688, 748.079, 793.152, 819.000, 790.127, 707.341, 702.139, ...
## $ SPR_Implied [3m[38;5;246m<dbl>[39m[23m 0.571974, 0.400000, 0.400000, 0.411522, 0.408143, 0.417779, 0.431533, 0.405281, 0.400000, 0.400000, 0.400000, 0.40000...
## $ F           [3m[38;5;246m<dbl>[39m[23m 0.169251, 0.299118, 0.299118, 0.288054, 0.291251, 0.282231, 0.269864, 0.293990, 0.299118, 0.299118, 0.299118, 0.29911...
## $ Ntot        [3m[38;5;246m<dbl>[39m[23m 0.636921, 0.611551, 0.549933, 0.533192, 0.548044, 0.532505, 0.522248, 0.593064, 0.667088, 0.667033, 0.716297, 0.71422...
## $ Catch       [3m[38;5;246m<dbl>[39m[23m 55.0000, 91.5924, 83.4808, 82.9462, 84.7278, 75.6160, 74.4084, 104.2640, 102.3520, 106.1070, 126.4840, 107.9780, 88.7...
## $ ABC         [3m[38;5;246m<dbl>[39m[23m 93.0461, 91.5924, 83.4808, 82.9462, 84.7278, 75.6160, 74.4084, 104.2640, 102.3520, 106.1070, 126.4840, 107.9780, 88.7...
## $ OFL         [3m[38;5;246m<dbl>[39m[23m 107.8870, 106.1440, 96.7631, 94.6088, 96.5692, 86.2228, 84.9402, 118.7630, 118.6250, 123.0120, 146.5410, 125.0670, 10...
## $ AvgAge      [3m[38;5;246m<dbl>[39m[23m 5.24820, 5.08532, 4.69259, 4.49885, 4.60674, 4.44309, 3.90069, 3.99834, 4.15724, 3.95508, 4.36646, 4.86218, 4.48665, ...
## $ AvgAgeTot   [3m[38;5;246m<dbl>[39m[23m 2.95604, 2.89583, 3.06012, 2.89292, 2.31752, 2.72346, 2.59408, 2.37965, 2.96153, 3.19826, 2.92444, 2.26389, 2.85369, ...
## $ SexRatio    [3m[38;5;246m<dbl>[39m[23m 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0....
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{  bfs \textless{}{-}}\StringTok{ }\NormalTok{bf }\OperatorTok{\%\textgreater{}\%}\StringTok{ }\KeywordTok{filter}\NormalTok{(Sim}\OperatorTok{\textless{}=}\DecValTok{30}\NormalTok{)}
  \CommentTok{\#write.csv(bfs,"data/proj.csv")}
 \CommentTok{\# head(bfs)}
\NormalTok{  bfss \textless{}{-}}\StringTok{ }\NormalTok{bfs }\OperatorTok{\%\textgreater{}\%}\StringTok{ }\KeywordTok{filter}\NormalTok{(Alt}\OperatorTok{==}\DecValTok{2}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}\StringTok{ }\KeywordTok{select}\NormalTok{(Alt,Yr,Catch,SSB,Sim) }
\NormalTok{  pf \textless{}{-}}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(}\KeywordTok{read.table}\NormalTok{(}\KeywordTok{paste0}\NormalTok{(.projdir,}\StringTok{"percentdb.out"}\NormalTok{),}\DataTypeTok{header=}\NormalTok{F) )}
  \KeywordTok{names}\NormalTok{(pf) \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"stock"}\NormalTok{,}\StringTok{"Alt"}\NormalTok{,}\StringTok{"Yr"}\NormalTok{,}\StringTok{"variable"}\NormalTok{,}\StringTok{"value"}\NormalTok{) }
\NormalTok{  p1 \textless{}{-}}\StringTok{ }\NormalTok{pf }\OperatorTok{\%\textgreater{}\%}\StringTok{ }\KeywordTok{filter}\NormalTok{(}\KeywordTok{substr}\NormalTok{(variable,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{)}\OperatorTok{==}\StringTok{"C"}\NormalTok{,variable}\OperatorTok{!=}\StringTok{"CStdn"}\NormalTok{,Alt}\OperatorTok{==}\DecValTok{2}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}\StringTok{ }\KeywordTok{select}\NormalTok{(Yr,variable,value) }\OperatorTok{\%\textgreater{}\%}\StringTok{ }\KeywordTok{spread}\NormalTok{(variable,value) }\OperatorTok{\%\textgreater{}\%}
\StringTok{    }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\NormalTok{Yr,}\DataTypeTok{y=}\NormalTok{CMean),}\DataTypeTok{width=}\FloatTok{1.2}\NormalTok{) }\OperatorTok{+}\StringTok{ }\KeywordTok{geom\_ribbon}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{ymax=}\NormalTok{CUCI,}\DataTypeTok{ymin=}\NormalTok{CLCI),}\DataTypeTok{fill=}\StringTok{"goldenrod"}\NormalTok{,}\DataTypeTok{alpha=}\NormalTok{.}\DecValTok{5}\NormalTok{) }\OperatorTok{+}\StringTok{ }\KeywordTok{theme\_few}\NormalTok{() }\OperatorTok{+}\StringTok{ }\KeywordTok{geom\_line}\NormalTok{() }\OperatorTok{+}
\StringTok{    }\KeywordTok{scale\_x\_continuous}\NormalTok{(}\DataTypeTok{breaks=}\KeywordTok{seq}\NormalTok{(thisyr,thisyr}\OperatorTok{+}\DecValTok{14}\NormalTok{,}\DecValTok{2}\NormalTok{))  }\OperatorTok{+}\StringTok{  }\KeywordTok{xlab}\NormalTok{(}\StringTok{"Year"}\NormalTok{) }\OperatorTok{+}\StringTok{ }\KeywordTok{ylab}\NormalTok{(}\StringTok{"Tier 3 ABC (kt)"}\NormalTok{) }\OperatorTok{+}\StringTok{ }\KeywordTok{geom\_point}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{    }\KeywordTok{expand\_limits}\NormalTok{(}\DataTypeTok{y=}\DecValTok{0}\NormalTok{) }\OperatorTok{+}
\StringTok{    }\KeywordTok{geom\_line}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{y=}\NormalTok{Cabc)) }\OperatorTok{+}\StringTok{ }\KeywordTok{geom\_line}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{y=}\NormalTok{Cofl),}\DataTypeTok{linetype=}\StringTok{"dashed"}\NormalTok{) }\OperatorTok{+}\StringTok{ }\KeywordTok{geom\_line}\NormalTok{(}\DataTypeTok{data=}\NormalTok{bfss,}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\NormalTok{Yr,}\DataTypeTok{y=}\NormalTok{Catch,}\DataTypeTok{col=}\KeywordTok{as.factor}\NormalTok{(Sim)))}\OperatorTok{+}\StringTok{ }\KeywordTok{guides}\NormalTok{(}\DataTypeTok{size=}\OtherTok{FALSE}\NormalTok{,}\DataTypeTok{fill=}\OtherTok{FALSE}\NormalTok{,}\DataTypeTok{alpha=}\OtherTok{FALSE}\NormalTok{,}\DataTypeTok{col=}\OtherTok{FALSE}\NormalTok{) }
\NormalTok{  p2 \textless{}{-}}\StringTok{ }\NormalTok{pf }\OperatorTok{\%\textgreater{}\%}\StringTok{ }\KeywordTok{filter}\NormalTok{(}\KeywordTok{substr}\NormalTok{(variable,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{)}\OperatorTok{==}\StringTok{"S"}\NormalTok{,variable}\OperatorTok{!=}\StringTok{"SSBStdn"}\NormalTok{,Alt}\OperatorTok{==}\DecValTok{2}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}\StringTok{ }\KeywordTok{select}\NormalTok{(Yr,variable,value) }\OperatorTok{\%\textgreater{}\%}\StringTok{ }\KeywordTok{spread}\NormalTok{(variable,value) }\OperatorTok{\%\textgreater{}\%}
\StringTok{    }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\NormalTok{Yr,}\DataTypeTok{y=}\NormalTok{SSBMean),}\DataTypeTok{width=}\FloatTok{1.2}\NormalTok{) }\OperatorTok{+}\StringTok{ }\KeywordTok{geom\_ribbon}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{ymax=}\NormalTok{SSBUCI,}\DataTypeTok{ymin=}\NormalTok{SSBLCI),}\DataTypeTok{fill=}\StringTok{"coral"}\NormalTok{,}\DataTypeTok{alpha=}\NormalTok{.}\DecValTok{5}\NormalTok{) }\OperatorTok{+}\StringTok{ }\KeywordTok{theme\_few}\NormalTok{() }\OperatorTok{+}\StringTok{ }\KeywordTok{geom\_line}\NormalTok{() }\OperatorTok{+}
\StringTok{    }\KeywordTok{scale\_x\_continuous}\NormalTok{(}\DataTypeTok{breaks=}\KeywordTok{seq}\NormalTok{(thisyr,thisyr}\OperatorTok{+}\DecValTok{14}\NormalTok{,}\DecValTok{2}\NormalTok{))  }\OperatorTok{+}\StringTok{  }\KeywordTok{xlab}\NormalTok{(}\StringTok{"Year"}\NormalTok{) }\OperatorTok{+}\StringTok{ }\KeywordTok{ylab}\NormalTok{(}\StringTok{"Tier 3 Spawning biomass (kt)"}\NormalTok{) }\OperatorTok{+}\StringTok{ }\KeywordTok{geom\_point}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{    }\KeywordTok{expand\_limits}\NormalTok{(}\DataTypeTok{y=}\DecValTok{0}\NormalTok{) }\OperatorTok{+}
\StringTok{    }\KeywordTok{geom\_line}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{y=}\NormalTok{SSBFabc)) }\OperatorTok{+}\StringTok{ }\KeywordTok{geom\_line}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{y=}\NormalTok{SSBFofl),}\DataTypeTok{linetype=}\StringTok{"dashed"}\NormalTok{)}\OperatorTok{+}\StringTok{ }\KeywordTok{geom\_line}\NormalTok{(}\DataTypeTok{data=}\NormalTok{bfss,}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\NormalTok{Yr,}\DataTypeTok{y=}\NormalTok{SSB,}\DataTypeTok{col=}\KeywordTok{as.factor}\NormalTok{(Sim)))}\OperatorTok{+}\StringTok{ }\KeywordTok{guides}\NormalTok{(}\DataTypeTok{size=}\OtherTok{FALSE}\NormalTok{,}\DataTypeTok{fill=}\OtherTok{FALSE}\NormalTok{,}\DataTypeTok{alpha=}\OtherTok{FALSE}\NormalTok{,}\DataTypeTok{col=}\OtherTok{FALSE}\NormalTok{) }
\NormalTok{  t3 \textless{}{-}}\StringTok{ }\KeywordTok{grid.arrange}\NormalTok{(p1, p2, }\DataTypeTok{nrow=}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{test_files/figure-latex/-Read in projection model mainfiles-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
  \KeywordTok{ggsave}\NormalTok{(}\KeywordTok{paste0}\NormalTok{(.projdir,}\StringTok{"tier3\_proj.pdf"}\NormalTok{),}\DataTypeTok{plot=}\NormalTok{t3,}\DataTypeTok{width=}\FloatTok{5.4}\NormalTok{,}\DataTypeTok{height=}\DecValTok{7}\NormalTok{,}\DataTypeTok{units=}\StringTok{"in"}\NormalTok{)}


  \CommentTok{\# Stock Alt Sim Yr  SSB Rec Tot\_biom SPR\_Implied F Ntot Catch ABC OFL AvgAge AvgAgeTot SexRatio FABC FOFL}
\NormalTok{  bfsum \textless{}{-}}\StringTok{ }\NormalTok{bf }\OperatorTok{\%\textgreater{}\%}\StringTok{ }\KeywordTok{select}\NormalTok{(Alt,Yr,SSB,F,ABC ,Catch) }\OperatorTok{\%\textgreater{}\%}\StringTok{ }\KeywordTok{group\_by}\NormalTok{(Alt,Yr) }\OperatorTok{\%\textgreater{}\%}\StringTok{ }\KeywordTok{summarise}\NormalTok{(}\DataTypeTok{Catch=}\KeywordTok{mean}\NormalTok{(Catch),}\DataTypeTok{SSB=}\KeywordTok{mean}\NormalTok{(SSB),}\DataTypeTok{F=}\KeywordTok{mean}\NormalTok{(F),}\DataTypeTok{ABC=}\KeywordTok{mean}\NormalTok{(ABC))}
\NormalTok{  t1 \textless{}{-}}\StringTok{ }\NormalTok{bfsum }\OperatorTok{\%\textgreater{}\%}\StringTok{ }\KeywordTok{select}\NormalTok{(Alt,Yr,Catch) }\OperatorTok{\%\textgreater{}\%}\StringTok{ }\KeywordTok{spread}\NormalTok{(Alt,Catch) }
  \KeywordTok{names}\NormalTok{(t1) \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Catch"}\NormalTok{,}\StringTok{"Scenario 1"}\NormalTok{,}\StringTok{"Scenario 2"}\NormalTok{,}\StringTok{"Scenario 3"}\NormalTok{,}\StringTok{"Scenario 4"}\NormalTok{,}\StringTok{"Scenario 5"}\NormalTok{,}\StringTok{"Scenario 6"}\NormalTok{,}\StringTok{"Scenario 7"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}


\end{document}
